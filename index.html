<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hello Kitty Birthday</title>

<style>
body{
    margin:0;
    background:linear-gradient(#ffb6d9,#ff69b4);
    overflow:hidden;
    font-family: "Comic Sans MS", cursive;
}
canvas{
    display:block;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];

/* MESSAGE */
const lines = [
"To my gorgeous, caring and loving girlfriend,",
"You are the first person to make me feel love.",
"You never fail to put a smile on my face ever since I met you",
"and I hope this puts a smile on yours.",
"Happiest birthday muhleza"
];

function createParticles(){
    const tempCanvas = document.createElement("canvas");
    const tctx = tempCanvas.getContext("2d");

    tempCanvas.width = canvas.width;
    tempCanvas.height = canvas.height;

    tctx.fillStyle = "white";
    tctx.textAlign = "center";
    tctx.font = "bold 52px Comic Sans MS";

    let startY = canvas.height/2 - (lines.length * 35);

    lines.forEach((line,i)=>{
        tctx.fillText(line, canvas.width/2, startY + i*70);
    });

    const data = tctx.getImageData(0,0,tempCanvas.width,tempCanvas.height).data;

    for(let y=0;y<tempCanvas.height;y+=6){
        for(let x=0;x<tempCanvas.width;x+=6){
            const index = (y * tempCanvas.width + x) * 4;
            if(data[index+3] > 150){
                particles.push({
                    x: Math.random()*canvas.width,
                    y: canvas.height,
                    targetX: x,
                    targetY: y,
                    alpha:1
                });
            }
        }
    }
}

createParticles();

/* floating hearts */
let hearts = [];
setInterval(()=>{
    hearts.push({
        x: Math.random()*canvas.width,
        y: canvas.height,
        size: 20 + Math.random()*20,
        speed: 1 + Math.random()*2
    });
},400);

function drawHeart(x,y,size){
    ctx.fillStyle="#ff1493";
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.bezierCurveTo(x-size/2, y-size/2, x-size, y+size/3, x, y+size);
    ctx.bezierCurveTo(x+size, y+size/3, x+size/2, y-size/2, x, y);
    ctx.fill();
}

function animate(){
    ctx.fillStyle = "rgba(255,182,217,0.25)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    /* message particles */
    particles.forEach(p=>{
        p.x += (p.targetX - p.x)*0.05;
        p.y += (p.targetY - p.y)*0.05;
        p.alpha -= 0.001;

        ctx.fillStyle = "rgba(255,255,255,"+p.alpha+")";
        ctx.fillRect(p.x,p.y,3,3);
    });

    /* hearts animation */
    hearts.forEach(h=>{
        h.y -= h.speed;
        drawHeart(h.x,h.y,h.size);
    });

    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>

